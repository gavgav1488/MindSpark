# План разработки: Трекер настроения и привычек

## 1. Обзор проекта

Разработка веб-приложения для отслеживания настроения и привычек с элементами геймификации, используя Next.js, TypeScript, Tailwind CSS, shadcn/ui и Supabase.

## 2. Технологический стек

- Фронтенд: Next.js (TypeScript/TSX)
- UI: Tailwind CSS, shadcn/ui
- Бэкенд и база данных: Supabase
- Аутентификация: Supabase Auth
- Хостинг: Vercel
- Пакетный менеджер: pnpm

## 3. Этапы разработки

### Этап 1: Подготовка проекта и настройка окружения (День 1)

#### Задачи:
- [x] Инициализация Next.js проекта с TypeScript
- [x] Настройка Tailwind CSS
- [x] Интеграция shadcn/ui компонентов
- [x] Настройка структуры каталогов согласно PRD
- [x] Конфигурация ESLint и Prettier
- [x] Настройка Supabase проекта
- [x] Создание таблиц в Supabase согласно спецификации

### Этап 2: Реализация аутентификации (День 2-3)

#### Задачи:
- [x] Настройка Supabase Auth
- [x] Создание страниц регистрации и входа в систему
- [ ] Реализация функций регистрации и аутентификации
- [ ] Создание middleware для защиты маршрутов
- [ ] Разработка компонента навигации с учетом состояния авторизации

### Этап 3: Разработка трекера настроения (День 4-5)

#### Задачи:
- [x] Создание формы для добавления записей настроения
- [ ] Реализация функционала сохранения записей в Supabase
- [ ] Разработка календаря для просмотра истории настроения
- [ ] Создание графиков для визуализации данных
- [ ] Добавление возможности редактирования и удаления записей

### Этап 4: Разработка трекера привычек (День 6-7)

#### Задачи:
- [x] Создание формы для добавления привычек
- [x] Реализация списка привычек пользователя
- [x] Разработка системы отметок о выполнении привычек
- [ ] Создание компонента для ежедневного отслеживания привычек
- [ ] Реализация логики частоты выполнения привычек (ежедневно/еженедельно)

### Этап 5: Геймификация и статистика (День 8-9)

#### Задачи:
- [ ] Разработка системы начисления очков
- [ ] Создание системы достижений
- [ ] Реализация статистики по настроению и привычкам
- [ ] Разработка дашборда с общей аналитикой
- [ ] Добавление визуализации прогресса

### Этап 6: Уведомления и дополнительные функции (День 10)

#### Задачи:
- [ ] Реализация системы напоминаний
- [ ] Добавление отказа от ответственности (disclaimer)
- [ ] Создание лендинга
- [ ] Оптимизация производительности
- [ ] Тестирование адаптивности

### Этап 7: Тестирование и финальная доработка (День 11-12)

#### Задачи:
- [ ] Проведение тестирования функциональности
- [ ] Исправление найденных багов
- [ ] Оптимизация UX/UI
- [ ] Подготовка к деплою
- [ ] Создание документации

## 4. Структура базы данных

### Таблицы:
- `users`: Управляется Supabase Auth
- `mood_entries`: Записи о настроении
- `habits`: Привычки пользователей
- `habit_entries`: Отметки о выполнении привычек

## 5. Маршруты приложения

- `/`: Лендинг
- `/login`: Страница входа
- `/register`: Страница регистрации
- `/dashboard`: Главная панель
- `/dashboard/mood-tracker`: Трекер настроения
- `/dashboard/habits`: Трекер привычек

## 6. Компоненты пользовательского интерфейса

- Компоненты аутентификации (формы входа/регистрации)
- Навигационное меню
- Компонент календаря настроения
- Графики и диаграммы
- Формы для добавления/редактирования записей
- Карточки привычек
- Система уведомлений
- Дашборд с общей статистикой

## 7. Геймификация

- Система очков за активность
- Достижения за регулярное использование
- Прогресс-бары и визуальные индикаторы
- Система уровней

## 8. Риски и смягчающие факторы

- Задержки в настройке Supabase: заранее подготовить примеры конфигураций
- Сложности с визуализацией данных: использовать готовые библиотеки графиков
- Проблемы с адаптивностью: тестировать на разных устройствах с самого начала
- Производительность при большом объеме данных: реализовать пагинацию и фильтрацию

## 9. Критерии успеха

- Приложение полностью реализует все функции, описанные в PRD
- Интуитивно понятный и отзывчивый интерфейс
- Стабильная работа с минимальными задержками
- Корректная работа всех систем (аутентификация, трекеры, геймификация)
- Положительные отзывы от тестовых пользователей