# Требования к продукту (PRD): Трекер настроения и привычек

## 1. Введение

Этот документ описывает требования к продукту (PRD) для веб-приложения "Трекер настроения и привычек". Приложение предназначено для помощи пользователям в отслеживании их эмоционального состояния, формировании полезных привычек и улучшении общего самочувствия с помощью элементов геймификации.

## 2. Целевая аудитория

Приложение ориентировано на широкую аудиторию, включая:
-   Людей, стремящихся к саморазвитию и улучшению осознанности.
-   Пользователей, которые хотят отслеживать свое ментальное здоровье.
-   Тех, кто нуждается в инструменте для формирования и закрепления привычек.

## 3. Ключевые функции

-   **Регистрация и аутентификация:** Пользователи могут создавать аккаунт и входить в систему.
-   **Трекинг настроения:** Возможность ежедневно отмечать свое настроение, добавлять заметки и просматривать историю в виде календаря или графика.
-   **Трекинг привычек:** Создание, настройка и отслеживание ежедневных или еженедельных привычек.
-   **Геймификация:** Получение очков и достижений за регулярное использование приложения и выполнение целей.
-   **Статистика и аналитика:** Визуализация прогресса по настроению и привычкам.
-   **Уведомления:** Напоминания о необходимости отметить настроение или выполнить привычку.

## 4. Технологический стек

-   **Фронтенд:** Next.js (с использованием TypeScript/TSX)
-   **UI:** Tailwind CSS, shadcn/ui
-   **Бэкенд и база данных:** Supabase
-   **Аутентификация:** Supabase Auth
-   **Хостинг:** Vercel
-   **Пакетный менеджер:** pnpm

## 5. Архитектура с Supabase

Supabase будет использоваться как основная платформа для бэкенда, предоставляя базу данных PostgreSQL и сервис аутентификации.

### Структура таблиц в PostgreSQL:

-   **`users`**: Таблица для хранения данных пользователей. Будет управляться `Supabase Auth`.
    -   `id` (UUID, Primary Key)
    -   `email` (text)
    -   `created_at` (timestamp)
    -   ...другие метаданные.

-   **`mood_entries`**: Записи о настроении.
    -   `id` (bigint, Primary Key)
    -   `user_id` (UUID, Foreign Key к `users.id`)
    -   `mood_level` (integer) - Например, от 1 до 5.
    -   `notes` (text) - Заметки пользователя.
    -   `entry_date` (date) - Дата записи.
    -   `created_at` (timestamp)

-   **`habits`**: Привычки, которые отслеживает пользователь.
    -   `id` (bigint, Primary Key)
    -   `user_id` (UUID, Foreign Key к `users.id`)
    -   `name` (text) - Название привычки.
    -   `description` (text)
    -   `frequency` (text) - Например, 'daily', 'weekly'.
    -   `created_at` (timestamp)

-   **`habit_entries`**: Отметки о выполнении привычек.
    -   `id` (bigint, Primary Key)
    -   `habit_id` (bigint, Foreign Key к `habits.id`)
    -   `entry_date` (date)
    -   `completed` (boolean)
    -   `created_at` (timestamp)

## 6. Структура проекта (Next.js App Router)

```
/
├── app/
│   ├── (auth)/
│   │   ├── login/
│   │   └── register/
│   ├── (dashboard)/
│   │   ├── layout.tsx
│   │   ├── page.tsx       // Главная панель
│   │   ├── mood-tracker/
│   │   └── habits/
│   ├── layout.tsx
│   └── page.tsx           // Лендинг
├── components/
│   └── ui/                // Компоненты shadcn/ui
├── lib/
│   └── supabase/          // Клиент и утилиты для Supabase
├── public/
├── styles/
│   └── globals.css
├── package.json
└── tsconfig.json
```

## 7. Юридическое уведомление

В приложение необходимо добавить отказ от ответственности (disclaimer), информирующий пользователей о том, что приложение не является заменой профессиональной медицинской или психологической помощи.